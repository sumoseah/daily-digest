# Daily Digest

Automated personal morning digest delivered to your inbox at 7am PT via GitHub Actions.

## What it covers

| Section | Source | Method |
|---------|--------|--------|
| AI News: Simon Willison | simonwillison.net | RSS |
| AI News: TLDR | Your Gmail inbox | IMAP |
| Tech & Funding: TechCrunch | techcrunch.com/tag/venture | RSS |
| Tech & Product: Product Hunt | producthunt.com/feed | RSS |
| Product: Lenny's Newsletter | Your Gmail inbox | IMAP |
| SF Meetups: Luma | luma.com/sf | Scrape |
| Fun in SF: Funcheap | sf.funcheap.com | RSS |

Summaries generated by **Groq** (llama-3.3-70b, free tier). Email delivered via **Resend** (free tier).

---

## One-time setup

### 1. Get your API keys

**Groq (free)**
1. Go to [console.groq.com](https://console.groq.com) and sign up
2. Create an API key → copy it

**Resend (free — 100 emails/day)**
1. Go to [resend.com](https://resend.com) and sign up
2. Add and verify a sending domain (or use their free `@resend.dev` subdomain to start)
3. Create an API key → copy it
4. Update the `from` address in `digest.py` line ~210 to match your verified domain:
   ```python
   "from": "Daily Digest <digest@yourdomain.com>",
   ```

**Gmail App Password**
1. Make sure 2-Step Verification is on for your Google account
2. Go to [myaccount.google.com/apppasswords](https://myaccount.google.com/apppasswords)
3. Create a new app password (name it "Daily Digest")
4. Copy the 16-character password (no spaces)

### 2. Create a private GitHub repo

```bash
cd daily-digest
git init
git add .
git commit -m "initial"
# create a private repo on github.com, then:
git remote add origin git@github.com:YOUR_USERNAME/daily-digest.git
git push -u origin main
```

> Keep the repo **private** — it will store your workflow logs.

### 3. Add GitHub Secrets

In your repo → **Settings → Secrets and variables → Actions → New repository secret**

| Secret name | Value |
|-------------|-------|
| `GROQ_API_KEY` | Your Groq API key |
| `RESEND_API_KEY` | Your Resend API key |
| `GMAIL_ADDRESS` | Your full Gmail address |
| `GMAIL_APP_PASS` | The 16-char app password (no spaces) |
| `DIGEST_TO` | Email address to send the digest to |

### 4. Test it manually

In your repo → **Actions → Daily Digest → Run workflow**

Check your inbox. If something is wrong, the logs in Actions will show exactly which step failed.

### 5. Timezone note

The cron is set to `0 15 * * *` (15:00 UTC = 7:00 AM PST).
In summer (PDT, UTC-7), change it to `0 14 * * *` in `.github/workflows/digest.yml`.

---

## Costs

| Service | Free tier | Your usage |
|---------|-----------|------------|
| Groq API | ~14,400 req/day on free | 1 req/day |
| Resend | 100 emails/day | 1 email/day |
| GitHub Actions | 2,000 min/month | ~60 min/month |
| **Total** | | **$0/month** |

---

## Extending later

### Add a web UI (Streamlit)
- Save each digest as HTML to a `digests/` folder in the repo (or to Supabase)
- Build a simple Streamlit app to browse past issues
- Deploy free on [streamlit.io/cloud](https://streamlit.io/cloud)

### Add memory / search (Supabase)
- Store digest content + embeddings in Supabase (free tier: 500MB)
- Add a search endpoint to find past stories by topic
- Embed with `text-embedding-3-small` (OpenAI, ~$0.00002/digest)

### Add more sources
- Any RSS feed: copy the `fetch_rss()` pattern
- Any email newsletter: copy the `fetch_latest_email()` pattern
- Any website: copy the `fetch_luma_sf()` scrape pattern

---

## Troubleshooting

**"Email fetch failed: [AUTH] Application-specific password required"**
→ You used your real Gmail password. Generate an App Password instead (see step 1).

**"Email not found in inbox"**
→ Check that TLDR/Lenny emails land in your main inbox, not Promotions. Star them or filter them to Primary.

**Luma section is empty**
→ The `__NEXT_DATA__` JSON structure on luma.com may have changed. Open the page, view source, search for `__NEXT_DATA__`, and trace the path to event objects. Update `fetch_luma_sf()` accordingly.

**Groq rate limit hit**
→ The free model `llama-3.3-70b-versatile` has generous limits for daily use. If you hit limits, switch `GROQ_MODEL` to `llama-3.1-8b-instant` (faster, smaller).
